{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- Estilos responsivos para index.html - Fix SOLO para móvil -->
<style>
  /* Fix específico para botón flotante (aplicar a todas las pantallas) */
  .btn-login-float {
    z-index: 99999 !important;
    position: fixed !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Fix para mapa responsive */
  #map {
    position: relative !important;
    width: 100% !important;
    height: 0 !important;
    padding-bottom: 56.25% !important; /* Aspect ratio 16:9 */
    overflow: hidden !important;
  }
  
  #map iframe {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    border: 0 !important;
  }
  
  /* SOLO aplicar cambios en móvil - NO afectar desktop */
  @media (max-width: 768px) {
    /* Prevenir scroll horizontal en móvil */
    body {
      overflow-x: hidden !important;
    }
    
    /* Asegurar que containers no se salgan en móvil */
    .container, .container-fluid {
      max-width: 100% !important;
      overflow-x: hidden !important;
      padding-left: 10px !important;
      padding-right: 10px !important;
    }
    
    /* Ajustar video en móvil */
    #bg-video {
      object-fit: cover !important;
    }
    
    /* Ajustar sección features en móvil */
    .features {
      overflow-x: hidden !important;
      margin-top: -50px !important;
      padding: 20px 0 !important;
    }
    
    /* Botón flotante en tablet */
    .btn-login-float {
      bottom: 15px !important;
      right: 15px !important;
      width: 55px !important;
      height: 55px !important;
    }
  }
  
  @media (max-width: 480px) {
    /* Ajustes adicionales para móviles pequeños */
    .features {
      margin-top: -30px !important;
    }
    
    .container {
      padding-left: 8px !important;
      padding-right: 8px !important;
    }
    
    /* Botón flotante en móvil */
    .btn-login-float {
      bottom: 12px !important;
      right: 12px !important;
      width: 50px !important;
      height: 50px !important;
    }
  }
</style>

  <!-- ***** Main Banner Area Start ***** -->
  <section class="section main-banner" id="top" data-section="section1" style="padding-bottom: 0 !important; margin-bottom: 0 !important;">
    <video autoplay muted loop id="bg-video">
      <source src="{% static 'plantillas/assets/assets_informativo/images/VIDEO_ESCUELA.mp4' %}" type="video/mp4" />
    </video>

    <div class="video-overlay header-text">
      <div class="caption">
        
        <!-- Texto animado -->
        <h2 id="bienvenida" class="typing-text">Hola!! <span id="texto-escribir"></span></h2>
    
        <!-- Texto descriptivo fijo debajo -->
        <p class="descripcion">
          Este es un sistema de la Unidad Educativa del Milenio 11 de Noviembre,
          donde nuestros estudiantes ejercen su derecho al voto de forma segura, moderna y electrónica.
        </p>
    
      </div>
    </div>
    
    <script>
      const texto = "Bienvenidos";
      const spanTexto = document.getElementById("texto-escribir");
      let index = 0;
    
      function escribirTexto() {
        if (index < texto.length) {
          spanTexto.textContent += texto.charAt(index);
          index++;
          setTimeout(escribirTexto, 100);
        } else {
          setTimeout(() => {
            spanTexto.textContent = "";
            index = 0;
            escribirTexto();
          }, 5000);
        }
      }
    
      window.onload = escribirTexto;
    </script>
    
    <style>
    .typing-text {
      font-size: 32px;
      font-weight: bold;
      color: #fff;
      text-align: center;
      margin-bottom: 10px;
    }
    
    .descripcion {
      font-size: 18px;
      color: #f0f0f0;
      text-align: center;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }
    </style>
    
    
    <style>
    .typing-text {
      font-size: 32px;
      font-weight: bold;
      color: #fff;
      text-align: center;
    }
    </style>
    
    
  </section>
  
  <!-- ***** Main Banner Area End ***** -->

  <!-- ***** Features Area Start ***** -->
  <section class="features" style="position: relative; z-index: 10; margin-top: -100px; width: 100%; background: transparent;">
    <div class="container" style="background: transparent; padding: 20px 0; margin-top: -50px;">
      <div class="row">
        <div class="col-lg-4 col-12">
          <div class="features-post">
            <div class="features-content">
              <div class="content-show">
                <h4><i class="fa fa-pencil"></i>Votación Segura</h4>
              </div>
              <div class="content-hide">
                <p>Nuestro sistema de votación electrónica garantiza la seguridad y confidencialidad de cada voto emitido. Utilizamos tecnología de encriptación de última generación.</p>
                <p class="hidden-sm">Cada voto es verificado y almacenado de manera segura en nuestra base de datos.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-12">
          <div class="features-post second-features">
            <div class="features-content">
              <div class="content-show">
                <h4><i class="fa fa-graduation-cap"></i>Transparencia</h4>
              </div>
              <div class="content-hide">
                <p>Garantizamos la transparencia en todo el proceso electoral. Los resultados son verificables y auditables en tiempo real por las autoridades competentes.</p>
                <p class="hidden-sm">Cada paso del proceso está diseñado para asegurar la integridad de los resultados.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-12">
          <div class="features-post third-features">
            <div class="features-content">
              <div class="content-show">
                <h4><i class="fa fa-book"></i>Facilidad de Uso</h4>
              </div>
              <div class="content-hide">
                <p>Nuestra plataforma es intuitiva y fácil de usar. Diseñada pensando en todos los miembros de la comunidad educativa, sin importar su nivel de experiencia tecnológica.</p>
                <p class="hidden-sm">Guías paso a paso disponibles para facilitar el proceso de votación.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ***** Features Area End ***** -->

  <section class="section video" data-section="section5">
    <div class="container">
      <div class="row align-items-center">
        
        <!-- Texto a la izquierda -->
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="left-content">
            <h2>Innovación Educativa</h2>
            <h4>Conoce nuestro <em>Proyecto Educativo Digital</em></h4>
            <p>
              En la Unidad Educativa el Milenio 11 de Noviembre estamos comprometidos con la innovación tecnológica y la transformación
              digital de la educación. Nuestro sistema de votación electrónica es solo una muestra de cómo integramos la
              tecnología para mejorar la experiencia educativa.
              <br><br>
              Descubre cómo nuestros estudiantes participan activamente en proyectos tecnológicos que fomentan
              el pensamiento crítico, la colaboración y las habilidades digitales esenciales para el futuro.
            </p>
          </div>
        </div>
  
        <!-- Imagen a la derecha -->
        <div class="col-lg-6">
          <article class="video-item">
            <figure>
              <img src="{% static 'plantillas/assets/assets_informativo/images/INGRESO.JPG' %}" 
                   alt="IMAGEN" 
                   class="img-fluid rounded shadow"
                   style="width: 100%; height: auto;">
            </figure>
          </article>
        </div>
  
      </div>
    </div>
  </section>
  
  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="{% static 'plantillas/assets/vendor_informativo/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'plantillas/assets/vendor_informativo/bootstrap/js/bootstrap.min.js' %}"></script>

  <!-- CDNs para los archivos JavaScript -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
  <!-- CDN para animaciones avanzadas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="{% static 'js/cards.js' %}"></script>
  <script src="{% static 'js/features.js' %}"></script>
  <script src="{% static 'js/docentes.js' %}"></script>
  <script src="{% static 'js/autoridades.js' %}"></script>
  <script src="{% static 'js/honor.js' %}"></script>
  <script src="{% static 'js/contact-custom.js' %}"></script>
  <script src="{% static 'plantillas/assets/assets_informativo/js/custom.js' %}"></script>
  <script>
    //according to loftblog tut
    $('.nav li:first').addClass('active');

    var showSection = function showSection(section, isAnimate) {
      var
        direction = section.replace(/#/, ''),
        reqSection = $('.section').filter('[data-section="' + direction + '"]'),
        reqSectionPos = reqSection.offset().top - 0;

      if (isAnimate) {
        $('body, html').animate({
          scrollTop: reqSectionPos
        },
          800);
      } else {
        $('body, html').scrollTop(reqSectionPos);
      }

    };

    var checkSection = function checkSection() {
      $('.section').each(function () {
        var
          $this = $(this),
          topEdge = $this.offset().top - 80,
          bottomEdge = topEdge + $this.height(),
          wScroll = $(window).scrollTop();
        if (topEdge < wScroll && bottomEdge > wScroll) {
          var
            currentId = $this.data('section'),
            reqLink = $('a').filter('[href*=\\#' + currentId + ']');
          reqLink.closest('li').addClass('active').
            siblings().removeClass('active');
        }
      });
    };

    $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
      // No hacer nada si el enlace es externo o no es un enlace de sección
      if ($(this).hasClass('external') || !$(this).attr('href').startsWith('#')) {
        // Si es un enlace externo, no hacer nada especial
        return true;
      }
      
      // Si es un enlace de sección, hacer scroll suave
      e.preventDefault();
      
      // No remover la clase 'active' del menú móvil
      // para permitir que el menú se cierre correctamente
      // cuando se hace clic en un enlace
      // $('#menu').removeClass('active');
      
      // Mostrar la sección correspondiente
      showSection($(this).attr('href'), true);
    });

    $(window).scroll(function () {
      checkSection();
    });
  </script>
{% endblock %}