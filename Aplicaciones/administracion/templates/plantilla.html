{% load static %}
<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="Chameleon Admin is a modern Bootstrap 4 webapp & admin dashboard html template with a large number of components, elegant design, clean and organized code.">
    <meta name="keywords" content="admin template, Chameleon admin template, dashboard template, gradient admin template, responsive admin template, webapp, eCommerce dashboard, analytic dashboard">
    <meta name="author" content="ThemeSelect">
    <!-- Título dinámico con iniciales -->
    <title>SISTEMA DE VOTO ELECTRÓNICO {{ logo_config.iniciales|default:"U E R" }}</title>
    <!-- Íconos dinámicos -->
    <link rel="apple-touch-icon" href="{% if logo_config and logo_config.logo_1 %}{{ logo_config.logo_1.url }}{% else %}{% static 'images/logo1.png' %}{% endif %}" sizes="180x180">
    <link rel="icon" type="image/x-icon" href="{% if logo_config and logo_config.logo_1 %}{{ logo_config.logo_1.url }}{% else %}{% static 'images/logo1.png' %}{% endif %}" sizes="32x32">
    <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700" rel="stylesheet">
    <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css" rel="stylesheet">
    <!-- BEGIN VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/css/vendors.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/vendors/css/charts/chartist.css' %}">
    <!-- END VENDOR CSS-->
    <!-- BEGIN CHAMELEON CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/css/app-lite.css' %}">
    <!-- END CHAMELEON CSS-->
    <!-- BEGIN Page Level CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/css/core/menu/menu-types/vertical-menu.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/css/core/colors/palette-gradient.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'plantillas/theme-assets/css/pages/dashboard-ecommerce.css' %}">
    <!-- END Page Level CSS-->
    <!-- BEGIN Custom CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- Contenedor oculto para mensajes -->
    <div id="messages-container" style="display: none;">
      {% if messages %}
        {% for message in messages %}
        <div data-tags="{{ message.tags }}">{{ message|escapejs }}</div>
        {% endfor %}
      {% endif %}
    </div>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Fileinput CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-fileinput@5.5.0/css/fileinput.min.css" rel="stylesheet">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.bootstrap4.min.css">
    <!-- Bootstrap CSS (needed for fileinput) -->

    <style>
    .brand-text {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      line-height: 1.2;
      font-size: 1rem;
      white-space: normal;
      max-width: 150px;
    }
    .brand-text-prefix {
      font-weight: bold;
    }
    .brand-text-iniciales {
      font-weight: normal;
    }
    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand-logo {
      max-width: 40px;
      height: auto;
    }
    </style>
  </head>
  <body class="vertical-layout vertical-menu 2-columns menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-chartbg" data-col="2-columns">
    <!-- fixed-top-->
    <nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light">
      <div class="navbar-wrapper">
        <div class="navbar-container content">
          <div class="collapse navbar-collapse show" id="navbar-mobile">
            <ul class="nav navbar-nav mr-auto float-left">
              <li class="nav-item d-block d-md-none"><a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#"><i class="ft-menu"></i></a></li>
            </ul>
            <!--
            <ul class="nav navbar-nav float-right">
              <li class="dropdown dropdown-language nav-item"><a class="dropdown-toggle nav-link" id="dropdown-flag" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="flag-icon flag-icon-us"></i><span class="selected-language"></span></a>
                <div class="dropdown-menu" aria-labelledby="dropdown-flag">
                  <div class="arrow_box"><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-us"></i> English</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-cn"></i> Chinese</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-ru"></i> Russian</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-fr"></i> French</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-es"></i> Spanish</a></div>
                </div>
              </li>
            </ul>
            -->
            <!-- 
            <ul class="nav navbar-nav float-right">
              <li class="dropdown dropdown-notification nav-item"><a class="nav-link nav-link-label" href="#" data-toggle="dropdown"><i class="ficon ft-mail"></i></a>
                <div class="dropdown-menu dropdown-menu-right">
                  <div class="arrow_box_right"><a class="dropdown-item" href="#"><i class="ft-book"></i> Read Mail</a><a class="dropdown-item" href="#"><i class="ft-bookmark"></i> Read Later</a><a class="dropdown-item" href="#"><i class="ft-check-square"></i> Mark all Read</a></div>
                </div>
              </li>
              -->
              {% if user.is_authenticated %}
              <li class="dropdown dropdown-user nav-item">
                <a class="dropdown-toggle nav-link dropdown-user-link" href="#" data-toggle="dropdown">
                  <div class="mr-2">
                    <div style="display: inline-block; width: 40px; height: 40px; background-color: #fff; border-radius: 50%; text-align: center; line-height: 40px;">
                      <i class="ft-user" style="color: #252019; font-size: 25px; display: inline-block; vertical-align: middle;"></i>
                    </div>
                  </div>
                </a>
                <div class="dropdown-menu dropdown-menu-right">
                  <div class="arrow_box_right">
                    <div class="dropdown-item">
                      <div class="d-flex align-items-center">
                        <div class="mr-2">
                          <div style="display: inline-block; width: 40px; height: 40px; background-color: #fff; border-radius: 50%; text-align: center; line-height: 40px;">
                            <i class="ft-user" style="color: #252019; font-size: 25px; display: inline-block; vertical-align: middle;"></i>
                          </div>
                        </div>
                        <div>
                          <div class="font-weight-bold">{{ user.nombre }} {{ user.apellido|default:'' }}</div>
                          <small class="text-muted">@{{ user.username }}</small>
                        </div>
                      </div>
                      <div class="dropdown-divider my-1"></div>
                      <div class="px-2">
                        {% if user.email %}
                        <div class="d-flex align-items-center mb-1">
                          <i class="ft-mail mr-1"></i>
                          <small class="text-muted">{{ user.email }}</small>
                        </div>
                        {% endif %}
                        {% if user.id_rol %}
                        <div class="d-flex align-items-center">
                          <i class="ft-award mr-1"></i>
                          <small class="text-muted">{{ user.id_rol.nombre_rol }}</small>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#" id="logout-link">
                      <i class="ft-power"></i> Cerrar Sesión
                    </a>
                  </div>
                </div>
              </li>
              {% endif %}
              
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!-- ////////////////////////////////////////////////////////////////////////////-->

    <div class="main-menu menu-fixed menu-light menu-accordion menu-shadow" data-scroll-to-active="true" alt="LOGO MENU"
         data-img="{% if logo_config and logo_config.logo_2 %}{{ logo_config.logo_2.url }}{% else %}{% static 'images/logo1.png' %}{% endif %}">
      <div class="navbar-header">
        <ul class="nav navbar-nav flex-row">
          <li class="nav-item mr-auto">
            <a class="navbar-brand" href="{% url 'dashboard' %}">
              <img class="brand-logo" alt="LOGO FONDO"
                   src="{% if logo_config and logo_config.logo_1 %}{{ logo_config.logo_1.url }}{% else %}{% static 'images/logo1.png' %}{% endif %}"/>
              <h3 class="brand-text">
                {{ logo_config.iniciales|default:" " }}
              </h3>
            </a>
          </li>
          <li class="nav-item d-md-none">
            <a class="nav-link close-navbar"><i class="ft-x"></i></a>
          </li>
        </ul>
      </div>

      <div class="main-menu-content">
        <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
            <li class="active">
                <a href="{% url 'dashboard' %}"><i class="ft-home"></i>
                    <span class="menu-title" data-i18n="">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
              <a href="#"><i class="ft-bar-chart-2"></i><span class="menu-title" data-i18n="">Período</span></a>
              <ul class="menu-content">
                <li><a class="menu-item" href="{% url 'agregarPeriodo' %}">Agregar Período</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#"><i class="ft-users"></i><span class="menu-title" data-i18n="">Usuarios</span></a>
              <ul class="menu-content">
                  <li><a class="menu-item" href="{% url 'agregarrol' %}">Gestionar Usuarios</a></li>
              </ul>
            </li>
            <li class="nav-item">
                <a href="#"><i class="ft-list"></i><span class="menu-title" data-i18n="">Padrón</span></a>
                <ul class="menu-content">
                    <li><a class="menu-item" href="{% url 'listar_grados' %}">Gestionar Padrón</a></li>
                </ul>
            </li>
            <li class="nav-item">
                <a href="#"><i class="ft-plus-circle"></i><span class="menu-title" data-i18n="">Candidatos</span></a>
                <ul class="menu-content">
                    <li><a class="menu-item" href="{% url 'listar_listas' %}">Gestionar Listas</a></li>
                   
                </ul>
            </li>
            <li class="nav-item">
                <a href="#"><i class="ft-check-circle"></i><span class="menu-title" data-i18n="">Votación</span></a>
                <ul class="menu-content">
                    <li><a class="menu-item" href="{% url 'votacion:lista_procesos' %}">Gestionar Procesos</a></li>
                </ul>
            </li>
            <li class="nav-item">
                <a href="#"><i class="ft-bar-chart-2"></i><span class="menu-title" data-i18n="">Resultados</span></a>
                <ul class="menu-content">
                  <li><a class="menu-item" href="{% url 'lista_resultados' %}">Gestionar Resultados</a></li>
                </ul>
            </li>

            <!-- SECCION DE NOTICIAS-->
            <li class="nav-item">
              <a href="#">
                <i class="ft-activity"></i><span class="menu-title">Noticias</span>
              </a>
              <ul class="menu-content">
                <li><a class="menu-item" href="{% url 'noticias:listar_noticias' %}">Ver Noticias</a></li>
                
              </ul>
            </li>

            <li class="nav-item">
                  <a href="{% url 'configurar_logo' %}"><i class="ft-settings"></i><span class="menu-title" data-i18n="">Configuración</span></a>
            </li>
            <li class="nav-item mt-1">
              <a href="#" id="logout-link">
              <i class="ft-power"></i><span class="menu-title">Cerrar Sesión</span>
              </a>
            </li> 

              

          
          </li>
        </ul>
      </div>
      <div class="navigation-background"></div>
    </div>

    <!-- Contenido principal -->
    <div class="app-content content">
      <div class="content-wrapper">
        <div class="content-wrapper-before"></div>
        <div class="content-header row"></div>
        <div class="content-body">
          <!-- Dashboard exclusivo de la plantilla base -->
          {% if template_name == 'plantilla.html' %}
            <!-- Chart -->
            <div class="row match-height">
              <div class="col-12">
                <div class="">
                  <div id="gradient-line-chart1" class="height-250 GradientlineShadow1"></div>
                </div>
              </div>
            </div>
            <!-- eCommerce statistic -->
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-12">
                <div class="card pull-up ecom-card-1 bg-white">
                  <div class="card-content ecom-card2 height-180">
                    <h5 class="text-muted danger position-absolute p-1">Progress Stats</h5>
                    <div>
                      <i class="ft-pie-chart danger font-large-1 float-right p-1"></i>
                    </div>
                    <div class="progress-stats-container ct-golden-section height-75 position-relative pt-3">
                      <div id="progress-stats-bar-chart"></div>
                      <div id="progress-stats-line-chart" class="progress-stats-shadow"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-12">
                <div class="card pull-up ecom-card-1 bg-white">
                  <div class="card-content ecom-card2 height-180">
                    <h5 class="text-muted info position-absolute p-1">Activity Stats</h5>
                    <div>
                      <i class="ft-activity info font-large-1 float-right p-1"></i>
                    </div>
                    <div class="progress-stats-container ct-golden-section height-75 position-relative pt-3">
                      <div id="progress-stats-bar-chart1"></div>
                      <div id="progress-stats-line-chart1" class="progress-stats-shadow"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-12">
                <div class="card pull-up ecom-card-1 bg-white">
                  <div class="card-content ecom-card2 height-180">
                    <h5 class="text-muted warning position-absolute p-1">Sales Stats</h5>
                    <div>
                      <i class="ft-shopping-cart warning font-large-1 float-right p-1"></i>
                    </div>
                    <div class="progress-stats-container ct-golden-section height-75 position-relative pt-3">
                      <div id="progress-stats-bar-chart2"></div>
                      <div id="progress-stats-line-chart2" class="progress-stats-shadow"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--/ eCommerce statistic -->
            <!-- Statistics -->
            <div class="row match-height">
              <div class="col-xl-4 col-lg-12">
                <div class="card">
                  <div class="card-header">
                    <h4 class="card-title" id="heading-multiple-thumbnails">Multiple Thumbnail</h4>
                    <a class="heading-elements-toggle">
                      <i class="la la-ellipsis-v font-medium-3"></i>
                    </a>
                    <div class="heading-elements">
                      <span class="avatar">
                        <img src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-2.png' %}" alt="avatar">
                      </span>
                      <span class="avatar">
                        <img src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-3.png' %}" alt="avatar">
                      </span>
                      <span class="avatar">
                        <img src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-4.png' %}" alt="avatar">
                      </span>
                    </div>
                  </div>
                  <div class="card-content">
                    <div class="card-body">
                      <h4 class="card-title">Content title</h4>
                      <p class="card-text">Jelly beans sugar plum cheesecake cookie oat cake soufflé.Tootsie roll bonbon liquorice tiramisu pie powder.Donut sweet
                        roll marzipan pastry cookie cake tootsie roll oat cake cookie.Jelly beans sugar plum cheesecake cookie oat cake soufflé. Tart lollipop carrot cake sugar plum.</p>
                      <p class="card-text">Sweet roll marzipan pastry halvah. Cake bear claw sweet. Tootsie roll pie marshmallow lollipop chupa chups donut fruitcake
                        cake.Jelly beans sugar plum cheesecake cookie oat cake soufflé. Tart lollipop carrot cake sugar plum. Marshmallow
                        wafer tiramisu jelly beans.</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-12">
                <div class="card">
                  <div class="card-content">
                    <div class="card-body">
                      <h4 class="card-title">Recent products</h4>
                      <h6 class="card-subtitle text-muted">Carousel Card With Header & Footer</h6>
                    </div>
                    <div id="carousel-area" class="carousel slide" data-ride="carousel">
                      <ol class="carousel-indicators">
                        <li data-target="#carousel-area" data-slide-to="0" class="active"></li>
                        <li data-target="#carousel-area" data-slide-to="1"></li>
                        <li data-target="#carousel-area" data-slide-to="2"></li>
                      </ol>
                      <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active">
                          <img src="{% static 'plantillas/theme-assets/images/carousel/08.jpg' %}" class="d-block w-100" alt="First slide">
                        </div>
                        <div class="carousel-item">
                          <img src="{% static 'plantillas/theme-assets/images/carousel/03.jpg' %}" class="d-block w-100" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                          <img src="{% static 'plantillas/theme-assets/images/carousel/01.jpg' %}" class="d-block w-100" alt="Third slide">
                        </div>
                      </div>
                      <a class="carousel-control-prev" href="#carousel-area" role="button" data-slide="prev">
                        <span class="la la-angle-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" href="#carousel-area" role="button" data-slide="next">
                        <span class="la la-angle-right icon-next" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
                    <div class="card-body">
                      <a href="#" class="card-link">Card link</a>
                      <a href="#" class="card-link">Another link</a>
                    </div>
                  </div>
                  <div class="card-footer border-top-blue-grey border-top-lighten-5 text-muted">
                    <span class="float-left">2 days ago</span>
                    <span class="tags float-right">
                      <span class="badge badge-pill badge-primary">Branding</span>
                      <span class="badge badge-pill badge-danger">Design</span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-12">
                <div class="card">
                  <div class="card-header">
                    <h4 class="card-title">Recent Buyers</h4>
                    <a class="heading-elements-toggle">
                      <i class="fa fa-ellipsis-v font-medium-3"></i>
                    </a>
                    <div class="heading-elements">
                      <ul class="list-inline mb-0">
                        <li>
                          <a data-action="reload">
                            <i class="ft-rotate-cw"></i>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-content">
                    <div id="recent-buyers" class="media-list">
                      <a href="#" class="media border-0">
                        <div class="media-left pr-1">
                          <span class="avatar avatar-md avatar-online">
                            <img class="media-object rounded-circle" src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-7.png' %}" alt="Generic placeholder image">
                            <i></i>
                          </span>
                        </div>
                        <div class="media-body w-100">
                          <span class="list-group-item-heading">Kristopher Candy</span>
                          <ul class="list-unstyled users-list m-0 float-right">
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 1" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-1.jpg' %}" alt="Avatar">
                            </li>
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 2" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-2.jpg' %}" alt="Avatar">
                            </li>
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 3" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-4.jpg' %}" alt="Avatar">
                            </li>
                          </ul>
                          <p class="list-group-item-text mb-0">
                            <span class="blue-grey lighten-2 font-small-3"> #INV-12332 </span>
                          </p>
                        </div>
                      </a>
                      <a href="#" class="media border-0">
                        <div class="media-left pr-1">
                          <span class="avatar avatar-md avatar-away">
                            <img class="media-object rounded-circle" src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-8.png' %}" alt="Generic placeholder image">
                            <i></i>
                          </span>
                        </div>
                        <div class="media-body w-100">
                          <span class="list-group-item-heading">Lawrence Fowler</span>
                          <ul class="list-unstyled users-list m-0 float-right">
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 1" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-5.jpg' %}" alt="Avatar">
                            </li>
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 2" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-6.jpg' %}" alt="Avatar">
                            </li>
                          </ul>
                          <p class="list-group-item-text mb-0">
                            <span class="blue-grey lighten-2 font-small-3"> #INV-12333 </span>
                          </p>
                        </div>
                      </a>
                      <a href="#" class="media border-0">
                        <div class="media-left pr-1">
                          <span class="avatar avatar-md avatar-busy">
                            <img class="media-object rounded-circle" src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-9.png' %}" alt="Generic placeholder image">
                            <i></i>
                          </span>
                        </div>
                        <div class="media-body w-100">
                          <span class="list-group-item-heading">Linda Olson</span>
                          <ul class="list-unstyled users-list m-0 float-right">
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 1" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-2.jpg' %}" alt="Avatar">
                            </li>
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 2" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-5.jpg' %}" alt="Avatar">
                            </li>
                          </ul>
                          <p class="list-group-item-text mb-0">
                            <span class="blue-grey lighten-2 font-small-3"> #INV-12334 </span>
                          </p>
                        </div>
                      </a>
                      <a href="#" class="media border-0">
                        <div class="media-left pr-1">
                          <span class="avatar avatar-md avatar-online">
                            <img class="media-object rounded-circle" src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-10.png' %}" alt="Generic placeholder image">
                            <i></i>
                          </span>
                        </div>
                        <div class="media-body w-100">
                          <span class="list-group-item-heading">Roy Clark</span>
                          <ul class="list-unstyled users-list m-0 float-right">
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 1" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-6.jpg' %}" alt="Avatar">
                            </li>
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 2" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-1.jpg' %}" alt="Avatar">
                            </li>
                          </ul>
                          <p class="list-group-item-text mb-0">
                            <span class="blue-grey lighten-2 font-small-3"> #INV-12335 </span>
                          </p>
                        </div>
                      </a>
                      <a href="#" class="media border-0">
                        <div class="media-left pr-1">
                          <span class="avatar avatar-md avatar-online">
                            <img class="media-object rounded-circle" src="{% static 'plantillas/theme-assets/images/portrait/small/avatar-s-11.png' %}" alt="Generic placeholder image">
                            <i></i>
                          </span>
                        </div>
                        <div class="media-body w-100">
                          <span class="list-group-item-heading">Kristopher Candy</span>
                          <ul class="list-unstyled users-list m-0 float-right">
                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-original-title="Product 1" class="avatar avatar-sm pull-up">
                              <img class="media-object rounded-circle no-border-top-radius no-border-bottom-radius" src="{% static 'plantillas/theme-assets/images/portfolio/portfolio-5.jpg' %}" alt="Avatar">
                            </li>
                          </ul>
                          <p class="list-group-item-text mb-0">
                            <span class="blue-grey lighten-2 font-small-3"> #INV-12336 </span>
                          </p>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--/ Statistics -->
          {% endif %}
          <!-- Bloque para contenido de plantillas hijas -->
          <div class="container">
            {% block contenido %}
              <!-- Aquí se insertará el contenido de las plantillas que extiendan esta -->
            {% endblock %}
          </div>
        </div>
      </div>
    </div>

    <footer class="footer footer-static footer-light navbar-border navbar-shadow">
      <div class="clearfix blue-grey lighten-2 text-sm-center mb-0 px-2">
        <span class="float-md-left d-block d-md-inline-block">2025  &copy; Copyright Escuela Riobamba</span>
        <span class="float-md-right d-block d-md-inline-block">Developed by: Darwin Ilaquize - Joel Vega</span>
        <ul class="list-inline float-md-right d-block d-md-inline-blockd-none d-lg-block mb-0">
      
        </ul>
      </div>
    </footer>

    <!-- jQuery y dependencias -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      // Evitar conflictos con otras versiones de jQuery
      if (window.jQuery && !window.jQuery.fn.select2) {
        // Cargar Select2 solo si no está ya cargado
        document.write('<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />');
        document.write('<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"><\/script>');
        document.write('<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/es.js"><\/script>');
      }
    </script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery Validation -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/localization/messages_es.min.js"></script>

    <!-- iziToast JS -->
    <script src="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js"></script>

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.bootstrap4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>

    <!-- Fileinput JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-fileinput@5.5.0/js/fileinput.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-fileinput@5.5.0/js/locales/es.js"></script>

    <!-- BEGIN VENDOR JS-->
    <script src="{% static 'plantillas/theme-assets/vendors/js/vendors.min.js' %}"></script>
    
    {% if template_name == 'plantilla.html' %}
    <!-- Cargar Chartist solo en el dashboard -->
    <script src="{% static 'plantillas/theme-assets/vendors/js/charts/chartist.min.js' %}"></script>
    <script src="{% static 'plantillas/theme-assets/js/scripts/pages/dashboard-lite.js' %}"></script>
    {% endif %}
    
    <!-- BEGIN CHAMELEON JS-->
    <script src="{% static 'plantillas/theme-assets/js/core/app-menu-lite.js' %}"></script>
    <script src="{% static 'plantillas/theme-assets/js/core/app-lite.js' %}"></script>
    
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Script para manejar mensajes -->
    <script>
      // Función para mostrar notificaciones
      function showNotifications() {
        const messagesContainer = document.getElementById('messages-container');
        if (!messagesContainer) return;
        
        const messageElements = messagesContainer.querySelectorAll('div[data-tags]');
        
        messageElements.forEach(function(element) {
          const tags = element.getAttribute('data-tags');
          const text = element.textContent;
          
          // Mapear tags de Django a íconos de SweetAlert2
          let icon = 'info';
          if (tags.includes('success')) icon = 'success';
          else if (tags.includes('error') || tags.includes('danger')) icon = 'error';
          else if (tags.includes('warning')) icon = 'warning';
          
          window.Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 5000,
            timerProgressBar: true,
            didOpen: (toast) => {
              toast.addEventListener('mouseenter', Swal.stopTimer);
              toast.addEventListener('mouseleave', Swal.resumeTimer);
            }
          }).fire({
            icon: icon,
            title: text
          });
        });
      }
      
      // Mostrar notificaciones cuando el DOM esté listo
      document.addEventListener('DOMContentLoaded', function() {
        showNotifications();
      });
    </script>
    <!-- END CHAMELEON JS-->
  
    <script>
    $(document).ready(function() {
      // Configuración global de jQuery Validate
      $.validator.setDefaults({
        errorClass: 'is-invalid text-danger',
        errorElement: 'div',
        errorPlacement: function(error, element) {
          error.addClass('invalid-feedback');
          element.closest('.form-group').append(error);
        },
        highlight: function(element, errorClass, validClass) {
          $(element).addClass('is-invalid').removeClass('is-valid');
        },
        unhighlight: function(element, errorClass, validClass) {
          $(element).removeClass('is-invalid').addClass('is-valid');
        }
      });

      // Validación para formularios de lista
      $('#modalAgregarLista form, [id^=editarListaModal] form').each(function() {
        $(this).validate({
          rules: {
            nombre_lista: {
              required: true,
              minlength: 3
            },
            periodo: 'required',
            color: {
              required: true,
              pattern: /^[a-zA-Z]+$|^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/
            }
          },
          messages: {
            nombre_lista: {
              required: 'Por favor, ingrese el nombre de la lista',
              minlength: 'El nombre debe tener al menos 3 caracteres'
            },
            periodo: 'Seleccione un período',
            color: {
              required: 'Ingrese un color',
              pattern: 'Ingrese un nombre de color o código hexadecimal válido'
            }
          }
        });
      });

      // Configuración global de iziToast
      iziToast.settings({
        position: 'topRight',
        transitionIn: 'fadeInDown',
        transitionOut: 'fadeOutUp',
        closeOnClick: true,
        pauseOnHover: true,
        timeout: 5000
      });

      // Ejemplo de uso de iziToast para confirmaciones de eliminación
      $('.btn-danger[data-toggle="modal"]').on('click', function() {
        const nombreLista = $(this).closest('.card').find('.card-title').text();
        iziToast.question({
          title: 'Confirmación',
          message: `¿Estás seguro de eliminar la lista "${nombreLista}"?`,
          position: 'center',
          buttons: [
            ['<button>Sí, eliminar</button>', function(instance, toast) {
              instance.hide({ transitionOut: 'fadeOut' }, toast, 'button');
              // Aquí puedes agregar la lógica de eliminación
              iziToast.success({
                title: 'Éxito',
                message: `La lista "${nombreLista}" ha sido eliminada`
              });
            }, true],
            ['<button>Cancelar</button>', function(instance, toast) {
              instance.hide({ transitionOut: 'fadeOut' }, toast, 'button');
            }]
          ]
        });
      });
    });
    </script>
  
    <!-- iziToast JS -->
    <script src="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js"></script>

    <script>
    (function() {
        document.addEventListener('DOMContentLoaded', function() {
            var messagesJson = '{{ messages_json|default:"[]" }}';
            console.log('Mensaje JSON recibido:', messagesJson);

            try {
                var messages = messagesJson ? JSON.parse(messagesJson) : [];
                console.log('Mensajes parseados:', messages);

                if (messages && Array.isArray(messages) && messages.length > 0) {
                    console.log('Número de mensajes:', messages.length);
                    messages.forEach(function(msg, index) {
                        console.log('Procesando mensaje ' + index + ':', msg);

                        var config = {
                            position: 'topRight',
                            message: msg.message || 'Mensaje sin contenido'
                        };

                        if (msg.tags === 'success') {
                            config.title = 'Éxito';
                            iziToast.success(config);
                        } else if (msg.tags === 'error') {
                            config.title = 'Error';
                            iziToast.error(config);
                        } else if (msg.tags === 'warning') {
                            config.title = 'Advertencia';
                            iziToast.warning(config);
                        } else {
                            config.title = 'Información';
                            iziToast.info(config);
                        }
                    });
                } else {
                    console.warn('No hay mensajes para mostrar');
                }
            } catch (error) {
                console.error('Error al procesar mensajes:', error);
            }
        });
    })();
    </script>
  

    {% block scripts %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('logout-link').addEventListener('click', function(e) {
          console.log('Logout link clicked');
          e.preventDefault();
          Swal.fire({
            title: '¿Cerrar sesión?',
            text: '¿Estás seguro de que quieres salir del sistema?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, cerrar sesión',
            cancelButtonText: 'Cancelar'
          }).then((result) => {
            if (result.isConfirmed) {
              window.location.href = "{% url 'administracion:index' %}";
            }
          });
        });
      });
    </script>
    {% endblock %}

    <!-- jQuery (necesario para fileinput) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Fileinput JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-fileinput@5.5.0/js/fileinput.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-fileinput@5.5.0/js/locales/es.js"></script>

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>

    <script>
        $(document).ready(function() {
            // Función para inicializar fileinput en un input específico
            function initFileInput(selector) {
                $(selector).fileinput({
                    language: "es",
                    allowedFileExtensions: ["jpg", "jpeg", "png", "gif"],
                    showCaption: false,
                    dropZoneEnabled: true,
                    showClose: false,
                    maxFileSize: 2000, // Tamaño máximo en KB
                    msgSizeTooLarge: 'El archivo "{name}" supera el tamaño máximo permitido de {size} KB.',
                    msgInvalidFileExtension: 'Extensión no válida. Solo se permiten: {extensions}.',
                    previewFileType: 'image',
                    browseClass: 'btn btn-primary',
                    browseLabel: 'Seleccionar imagen',
                    browseIcon: '<i class="la la-image"></i> '
                });
            }

            // Inicializar fileinput para inputs con ID que contienen 'imagen'
            $('input[id^="imagen"]').each(function() {
                initFileInput('#' + this.id);
            });

            // Inicializar fileinput para #evidencia
            initFileInput('#evidencia');

            // Inicializar DataTables en todas las tablas con clase 'table'
            $('.table').each(function() {
                var $table = $(this);
                
                // Solo inicializar si es una tabla de datos
                if ($table.attr('id') && $table.find('thead').length > 0) {
                    $table.DataTable({
                        language: {
                            url: 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'
                        },
                        responsive: true,
                        pageLength: 10,
                        lengthMenu: [[5, 10, 25, 50, -1], [5, 10, 25, 50, 'Todos']],
                        drawCallback: function() {
                            console.log('DataTable renderizada: ' + $table.attr('id'));
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>